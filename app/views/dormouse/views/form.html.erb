<%= form_for @object do |f| %>
  
  <%= f.error_messages %>
  
  <% @widgets.each do |widget| %>
    <% next if widget.hidden %>
    <%= widget.render_in_view(self, @object, :form => f) %>
  <% end %>
  
  <%= f.submit %>
  
<% end %>